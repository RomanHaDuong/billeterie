<div class="container py-5">
  <%# Header Section %>
  <div class="row mb-5">
    <div class="col-lg-4">
      <div class="position-relative mb-4">
        <% if @fournisseur.user&.image&.attached? %>
          <%= image_tag @fournisseur.user.image, class: "rounded-3 shadow-sm w-100", style: "height: 380px; object-fit: cover;" %>
        <% elsif @fournisseur.image.attached? %>
          <%= image_tag @fournisseur.image, class: "rounded-3 shadow-sm w-100", style: "height: 380px; object-fit: cover;" %>
        <% else %>
          <%= image_tag "placeholder_person.png", class: "rounded-3 shadow-sm w-100", style: "height: 380px; object-fit: cover;" %>
        <% end %>
      </div>

      <%# Quick Stats %>
      <div class="card border-0 shadow-sm mb-3">
        <div class="card-body text-center">
          <h3 class="mb-1 fw-bold"><%= @fournisseur.offres.count %></h3>
          <p class="text-muted mb-0"><%= @fournisseur.offres.count > 1 ? 'Animations' : 'Animation' %></p>
        </div>
      </div>

      <%# Contact/Social %>
      <div class="d-flex flex-column gap-2">
        <% if @fournisseur.linkedin.present? %>
          <a href="<%= @fournisseur.linkedin %>" target="_blank" class="btn btn-outline-primary">
            <i class="bi bi-linkedin me-2"></i>Linkedin
          </a>
        <% end %>

        <% if @fournisseur.instagram.present? %>
          <a href="<%= @fournisseur.instagram %>" target="_blank" class="btn btn-outline-dark">
            <i class="bi bi-instagram me-2"></i>Instagram
          </a>
        <% end %>

        <% if @fournisseur.offinity.present? %>
          <a href="<%= @fournisseur.offinity %>" target="_blank" class="btn btn-outline-dark">
            <i class="bi bi-link-45deg me-2"></i>Offinity
          </a>
        <% end %>
      </div>
    </div>

    <div class="col-lg-8">
      <h1 class="fw-bold mb-3"><%= @fournisseur.name %></h1>

      <%# Bio %>
      <div class="card border-0 shadow-sm p-4 mb-4">
        <h5 class="fw-bold mb-3">Ã€ propos</h5>
        <p class="mb-0"><%= @fournisseur.bio %></p>
      </div>

      <%# Animations Section %>
      <h3 class="fw-bold mb-3">Animations (<%= @all_offres.count %>)</h3>
      <div class="row g-4">
        <% @all_offres.each do |offre| %>
          <%= render partial: 'shared/offre', locals: { offre: offre } %>
        <% end %>
      </div>
    </div>
  </div>
</div>
